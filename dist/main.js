(()=>{"use strict";var e={548:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AppModule=void 0;const o=r(324),i=r(564),s=r(448),c=r(184),l=r(772),u=r(848);let a=class{};t.AppModule=a,t.AppModule=a=n([(0,o.Module)({imports:[c.ConfigModule.forRoot(),s.TypeOrmModule.forRoot({type:"postgres",host:process.env.DB_HOST,port:5432,username:process.env.DB_USER,password:process.env.DB_PASS,database:process.env.DB_NAME,autoLoadEntities:!0,synchronize:!1}),i.ClientesModule,l.AuthModule,u.UsersModule],controllers:[],providers:[]})],a)},536:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthController=void 0;const c=r(324),l=r(468),u=r(236);let a=class{constructor(e){this.authService=e}login(e){return s(this,void 0,void 0,(function*(){const{name:t,pass:r}=e;if(!(yield this.authService.validateUser(t,r)))throw new c.UnauthorizedException;return yield this.authService.generateAccessToken(t)}))}};t.AuthController=a,n([(0,c.Post)("login"),i(0,(0,c.Body)()),o("design:type",Function),o("design:paramtypes",[u.LoginDTO]),o("design:returntype",Promise)],a.prototype,"login",null),t.AuthController=a=n([(0,c.Controller)("auth"),o("design:paramtypes",[l.AuthService])],a)},772:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthModule=void 0;const o=r(324),i=r(536),s=r(468),c=r(848),l=r(660),u=r(184),a=r(632);let d=class{};t.AuthModule=d,t.AuthModule=d=n([(0,o.Module)({imports:[c.UsersModule,u.ConfigModule.forRoot(),l.JwtModule.register({global:!0,secret:process.env.JWT_SECRET,signOptions:{expiresIn:"1440s"}})],controllers:[i.AuthController],providers:[s.AuthService,a.JwtStrategy],exports:[s.AuthService]})],d)},468:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthService=void 0;const s=r(324),c=r(660),l=r(504);let u=class{constructor(e,t){this.usersService=e,this.jwtService=t}validateUser(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.usersService.getUserByName(e);return yield r.validatePassword(t)}))}generateAccessToken(e){return i(this,void 0,void 0,(function*(){const t={userId:(yield this.usersService.getUserByName(e)).userid};return{access_token:this.jwtService.sign(t)}}))}};t.AuthService=u,t.AuthService=u=n([(0,s.Injectable)(),o("design:paramtypes",[l.UsersService,c.JwtService])],u)},560:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.jwtConstants=void 0,t.jwtConstants={secret:"Lfb2AVFmkVNOzSslUBbaM6p7U4MMUK5u"}},964:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=void 0;const n=r(324);t.Auth=(0,n.createParamDecorator)(((e,t)=>{try{return t.switchToHttp().getRequest().user}catch(e){throw new n.ForbiddenException}}))},632:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.JwtStrategy=void 0;const s=r(324),c=r(816),l=r(528),u=r(504),a=r(560);let d=class extends((0,c.PassportStrategy)(l.Strategy)){constructor(e){super({jwtFromRequest:l.ExtractJwt.fromAuthHeaderAsBearerToken(),ignoreExpiration:!1,secretOrKey:a.jwtConstants.secret}),this.usersService=e}validate(e){return i(this,void 0,void 0,(function*(){const t=yield this.usersService.getUserById(e.userId);if(!t)throw new s.UnauthorizedException;return t}))}};t.JwtStrategy=d,t.JwtStrategy=d=n([(0,s.Injectable)(),o("design:paramtypes",[u.UsersService])],d)},236:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.LoginDTO=void 0;const i=r(676);class s{constructor(e,t){this.name=e,this.pass=t}}t.LoginDTO=s,n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"name",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"pass",void 0)},168:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ClienteDTO=void 0;const i=r(676);class s{constructor(e,t,r,n,o,i,s,c){this.id=e,this.nombre=t,this.apellido=r,this.tipo_doc=n,this.nro_doc=o,this.nro_tel_princ=i,this.nro_tel_sec=s,this.email=c}}t.ClienteDTO=s,n([(0,i.ApiProperty)(),o("design:type",Number)],s.prototype,"id",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"nombre",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"apellido",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"tipo_doc",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"nro_doc",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"nro_tel_princ",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"nro_tel_sec",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"email",void 0)},319:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ClienteEntity=void 0;const i=r(952);let s=class{constructor(e,t,r,n,o,i,s,c){this.id=e,this.nombre=t,this.apellido=r,this.tipo_doc=n,this.nro_doc=o,this.nro_tel_princ=i,this.nro_tel_sec=s,this.email=c}};t.ClienteEntity=s,n([(0,i.PrimaryColumn)(),o("design:type",Number)],s.prototype,"id",void 0),n([(0,i.Column)({nullable:!1}),o("design:type",String)],s.prototype,"nombre",void 0),n([(0,i.Column)({nullable:!1}),o("design:type",String)],s.prototype,"apellido",void 0),n([(0,i.Column)({nullable:!1}),o("design:type",String)],s.prototype,"tipo_doc",void 0),n([(0,i.Column)({nullable:!1}),o("design:type",String)],s.prototype,"nro_doc",void 0),n([(0,i.Column)({nullable:!1}),o("design:type",String)],s.prototype,"nro_tel_princ",void 0),n([(0,i.Column)({nullable:!0}),o("design:type",String)],s.prototype,"nro_tel_sec",void 0),n([(0,i.Column)({nullable:!0}),o("design:type",String)],s.prototype,"email",void 0),t.ClienteEntity=s=n([(0,i.Entity)("clientes"),o("design:paramtypes",[Number,String,String,String,String,String,String,String])],s)},640:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ClienteMapper=void 0;const o=r(324),i=r(168),s=r(319);let c=class{dtoToEntity(e){return new s.ClienteEntity(e.id,e.nombre,e.apellido,e.tipo_doc,e.nro_doc,e.nro_tel_princ,e.nro_tel_sec,e.email)}entityToDto(e){return new i.ClienteDTO(e.id,e.nombre,e.apellido,e.tipo_doc,e.nro_doc,e.nro_tel_princ,e.nro_tel_sec,e.email)}};t.ClienteMapper=c,t.ClienteMapper=c=n([(0,o.Injectable)()],c)},576:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientesRepository=void 0;const c=r(324),l=r(448),u=r(952),a=r(319),d=r(640),p=r(168);let f=class{constructor(e,t){this.clientesRepository=e,this.mapper=t}getAllClientes(){return s(this,void 0,void 0,(function*(){return yield this.clientesRepository.find()}))}getClienteById(e){return s(this,void 0,void 0,(function*(){return yield this.clientesRepository.findOneOrFail({where:{id:e}})}))}addCliente(e){return s(this,void 0,void 0,(function*(){const t=this.mapper.dtoToEntity(e);return yield this.clientesRepository.save(t)}))}updateCliente(e,t){return s(this,void 0,void 0,(function*(){const r=new p.ClienteDTO(e,t.nombre,t.apellido,t.tipo_doc,t.nro_doc,t.nro_tel_princ,t.nro_tel_sec,t.email),n=this.mapper.dtoToEntity(r);return yield this.clientesRepository.update(e,n),yield this.getClienteById(e)}))}};t.ClientesRepository=f,t.ClientesRepository=f=n([(0,c.Injectable)(),i(0,(0,l.InjectRepository)(a.ClienteEntity)),o("design:paramtypes",[u.Repository,d.ClienteMapper])],f)},40:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientesController=void 0;const c=r(324),l=r(347);let u=class{constructor(e){this.clientesService=e}getAllClientes(){return s(this,void 0,void 0,(function*(){return yield this.clientesService.getAllClientes()}))}getClienteById(e){return s(this,void 0,void 0,(function*(){return yield this.clientesService.getClienteById(e)}))}addCliente(e){return s(this,void 0,void 0,(function*(){return yield this.clientesService.addCliente(e)}))}updateCliente(e,t){return s(this,void 0,void 0,(function*(){return yield this.clientesService.updateCliente(e,t)}))}};t.ClientesController=u,n([(0,c.Get)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"getAllClientes",null),n([(0,c.Get)(":id"),i(0,(0,c.Param)("id")),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Promise)],u.prototype,"getClienteById",null),n([(0,c.Post)(),i(0,(0,c.Body)()),o("design:type",Function),o("design:paramtypes",[Function]),o("design:returntype",Promise)],u.prototype,"addCliente",null),n([(0,c.Put)(":id"),i(0,(0,c.Param)("id")),i(1,(0,c.Body)()),o("design:type",Function),o("design:paramtypes",[Number,Function]),o("design:returntype",Promise)],u.prototype,"updateCliente",null),t.ClientesController=u=n([(0,c.Controller)("clientes"),o("design:paramtypes",[l.ClienteService])],u)},564:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientesModule=void 0;const o=r(324),i=r(448),s=r(319),c=r(40),l=r(347),u=r(640),a=r(576);let d=class{};t.ClientesModule=d,t.ClientesModule=d=n([(0,o.Module)({imports:[i.TypeOrmModule.forFeature([s.ClienteEntity])],controllers:[c.ClientesController],providers:[l.ClienteService,u.ClienteMapper,a.ClientesRepository]})],d)},347:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ClienteService=void 0;const s=r(324),c=r(576),l=r(640);let u=class{constructor(e,t){this.clientesRepository=e,this.mapper=t}getAllClientes(){return i(this,void 0,void 0,(function*(){return(yield this.clientesRepository.getAllClientes()).map((e=>this.mapper.entityToDto(e)))}))}getClienteById(e){return i(this,void 0,void 0,(function*(){const t=yield this.clientesRepository.getClienteById(e);return this.mapper.entityToDto(t)}))}addCliente(e){return i(this,void 0,void 0,(function*(){const t=yield this.clientesRepository.addCliente(e);return this.mapper.entityToDto(t)}))}updateCliente(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.clientesRepository.updateCliente(e,t);return this.mapper.entityToDto(r)}))}};t.ClienteService=u,t.ClienteService=u=n([(0,s.Injectable)(),o("design:paramtypes",[c.ClientesRepository,l.ClienteMapper])],u)},740:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(496),i=r(676),s=r(548);!function(){n(this,void 0,void 0,(function*(){const e=yield o.NestFactory.create(s.AppModule),t=(new i.DocumentBuilder).setTitle("Nest Worshop").setDescription("Nest Worshop").setVersion("1.0").build(),r=i.SwaggerModule.createDocument(e,t);i.SwaggerModule.setup("api",e,r),yield e.listen(3e3)}))}()},579:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersController=void 0;const c=r(324),l=r(816),u=r(684),a=r(504),d=r(676),p=r(964);let f=class{constructor(e){this.usersService=e}getAllUsers(){return s(this,void 0,void 0,(function*(){return yield this.usersService.getAllUsers()}))}getUserById(e){return s(this,arguments,void 0,(function*({id:e}){return yield this.usersService.getUserById(e)}))}newUser(e){return s(this,void 0,void 0,(function*(){return yield this.usersService.newUser(e)}))}updateUser(e,t){return s(this,void 0,void 0,(function*(){return yield this.usersService.updateUser(e,t)}))}deleteUser(e){return s(this,void 0,void 0,(function*(){yield this.usersService.deleteUser(e)}))}};t.UsersController=f,n([(0,c.Get)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],f.prototype,"getAllUsers",null),n([(0,c.Get)(":id"),(0,d.ApiBearerAuth)(),(0,c.UseGuards)((0,l.AuthGuard)("jwt")),i(0,(0,p.Auth)()),o("design:type",Function),o("design:paramtypes",[u.UsersDTO]),o("design:returntype",Promise)],f.prototype,"getUserById",null),n([(0,c.Post)(),i(0,(0,c.Body)()),o("design:type",Function),o("design:paramtypes",[u.UsersDTO]),o("design:returntype",Promise)],f.prototype,"newUser",null),n([(0,c.Put)(":id"),(0,d.ApiBearerAuth)(),(0,c.UseGuards)((0,l.AuthGuard)("jwt")),i(0,(0,c.Param)("id")),i(1,(0,c.Body)()),o("design:type",Function),o("design:paramtypes",[Number,u.UsersDTO]),o("design:returntype",Promise)],f.prototype,"updateUser",null),n([(0,c.Delete)(":id"),(0,d.ApiBearerAuth)(),(0,c.UseGuards)((0,l.AuthGuard)("jwt")),i(0,(0,c.Param)("id")),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Promise)],f.prototype,"deleteUser",null),t.UsersController=f=n([(0,c.Controller)("users"),o("design:paramtypes",[a.UsersService])],f)},684:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersDTO=void 0;const i=r(676);class s{constructor(e,t,r){this.id=e,this.username=t,this.password=r}}t.UsersDTO=s,n([(0,i.ApiProperty)(),o("design:type",Number)],s.prototype,"id",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"username",void 0),n([(0,i.ApiProperty)(),o("design:type",String)],s.prototype,"password",void 0)},908:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersEntity=void 0;const u=s(r(784)),a=r(952);let d=class{hashPassword(){return l(this,void 0,void 0,(function*(){const e=yield u.genSalt();this.password=yield u.hash(this.password,e)}))}validatePassword(e){return l(this,void 0,void 0,(function*(){return u.compareSync(e,this.password)}))}constructor(e,t,r){this.userid=e,this.username=t,this.password=r}};t.UsersEntity=d,i([(0,a.PrimaryColumn)(),c("design:type",Number)],d.prototype,"userid",void 0),i([(0,a.Column)({unique:!0}),c("design:type",String)],d.prototype,"username",void 0),i([(0,a.Column)({type:"varchar",length:70,nullable:!0}),c("design:type",String)],d.prototype,"password",void 0),i([(0,a.BeforeInsert)(),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",Promise)],d.prototype,"hashPassword",null),t.UsersEntity=d=i([(0,a.Entity)("users"),c("design:paramtypes",[Number,String,String])],d)},755:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UsersMapper=void 0;const n=r(684),o=r(908);t.UsersMapper=class{dtoToEntity(e){return new o.UsersEntity(e.id,e.username,e.password)}entityToDto(e){return new n.UsersDTO(e.userid,e.username,e.password)}}},848:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersModule=void 0;const o=r(324),i=r(504),s=r(448),c=r(908),l=r(124),u=r(755),a=r(579);let d=class{};t.UsersModule=d,t.UsersModule=d=n([(0,o.Module)({imports:[s.TypeOrmModule.forFeature([c.UsersEntity])],controllers:[a.UsersController],providers:[i.UsersService,l.UsersRepository,u.UsersMapper],exports:[i.UsersService]})],d)},124:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersRepository=void 0;const c=r(324),l=r(448),u=r(952),a=r(684),d=r(908),p=r(755);let f=class{constructor(e,t){this.usersRepository=e,this.mapper=t}getAllUsers(){return s(this,void 0,void 0,(function*(){return yield this.usersRepository.find()}))}getUserById(e){return s(this,void 0,void 0,(function*(){return yield this.usersRepository.findOneOrFail({where:{userid:e}})}))}getUserByName(e){return s(this,void 0,void 0,(function*(){return yield this.usersRepository.findOneOrFail({where:{username:e}})}))}newUser(e){return s(this,void 0,void 0,(function*(){const t=this.mapper.dtoToEntity(e);return yield this.usersRepository.save(t)}))}updateUser(e,t){return s(this,void 0,void 0,(function*(){const r=new a.UsersDTO(e,t.username,t.password),n=this.mapper.dtoToEntity(r);return yield this.usersRepository.update(e,n),yield this.usersRepository.findOneOrFail({where:{userid:e}})}))}deleteUser(e){return s(this,void 0,void 0,(function*(){return yield this.usersRepository.delete(e)}))}};t.UsersRepository=f,t.UsersRepository=f=n([(0,c.Injectable)(),i(0,(0,l.InjectRepository)(d.UsersEntity)),o("design:paramtypes",[u.Repository,p.UsersMapper])],f)},504:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersService=void 0;const s=r(324),c=r(124),l=r(755);let u=class{constructor(e,t){this.usersRepository=e,this.mapper=t}getAllUsers(){return i(this,void 0,void 0,(function*(){return(yield this.usersRepository.getAllUsers()).map((e=>this.mapper.entityToDto(e)))}))}getUserById(e){return i(this,void 0,void 0,(function*(){const t=yield this.usersRepository.getUserById(e);return this.mapper.entityToDto(t)}))}getUserByName(e){return i(this,void 0,void 0,(function*(){return yield this.usersRepository.getUserByName(e)}))}newUser(e){return i(this,void 0,void 0,(function*(){const t=yield this.usersRepository.newUser(e);return this.mapper.entityToDto(t)}))}updateUser(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.usersRepository.updateUser(e,t);return this.mapper.entityToDto(r)}))}deleteUser(e){return i(this,void 0,void 0,(function*(){yield this.usersRepository.deleteUser(e)}))}};t.UsersService=u,t.UsersService=u=n([(0,s.Injectable)(),o("design:paramtypes",[c.UsersRepository,l.UsersMapper])],u)},324:e=>{e.exports=require("@nestjs/common")},184:e=>{e.exports=require("@nestjs/config")},496:e=>{e.exports=require("@nestjs/core")},660:e=>{e.exports=require("@nestjs/jwt")},816:e=>{e.exports=require("@nestjs/passport")},676:e=>{e.exports=require("@nestjs/swagger")},448:e=>{e.exports=require("@nestjs/typeorm")},784:e=>{e.exports=require("bcrypt")},528:e=>{e.exports=require("passport-jwt")},952:e=>{e.exports=require("typeorm")}},t={};!function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(740)})();